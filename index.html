<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LINE Login Demo</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js'></script>
</head>

<body>

    <button id="lineLoginBtn">LINE 登入</button>
    <pre>
        參考文章 
        <a href="https://ithelp.ithome.com.tw/articles/10244690">https://ithelp.ithome.com.tw/articles/10244690</a>
        <a href="https://ithelp.ithome.com.tw/articles/10229829">https://ithelp.ithome.com.tw/articles/10229829</a>
        1. 打 GET api 做跳轉 https://access.line.me/oauth2/v2.1/authorize
        2. 去 line developer 設定 Callback URL
        <img src="./line-login.PNG" alt="line">
        3. 
    </pre>

    <script>
        // https://w3c.hexschool.com/blog/d3accfa7
        const client_id = "1657784682"
        const redirect_uri = "https://dpes8693.github.io/line-login-example/"
        $('#lineLoginBtn').on('click', function (e) {
            // 故意分開寫
            /* GET https://access.line.me/oauth2/v2.1/authorize */
            const link = 'https://access.line.me/oauth2/v2.1/authorize?';
            link += 'response_type=code';
            link += '&client_id=' + client_id;
            link += '&redirect_uri=' + redirect_uri;
            link += '&state=login';
            link += '&scope=openid%20profile';
            window.location.href = link;
        });

        // POST https://api.line.me/oauth2/v2.1/token
        // GET https://api.line.me/v2/profile
    </script>
</body>

</html>